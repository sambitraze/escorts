(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{3104:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/train",function(){return t(3233)}])},3233:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var l=t(5893),a=t(7294),d=t(3299),s=t(1163),i=t(9337),n=t(5697),o=t.n(n),b=t(1664);function c(e){var r=e.color,t=(0,a.useState)([]),d=t[0],s=t[1];return(0,a.useEffect)((function(){fetch("http://143.110.249.208:3000/api/train").then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{style:{marginTop:"3rem",padding:"1rem"},className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded "+("light"===r?"bg-white":"bg-blueGray-700 text-white"),children:[(0,l.jsx)("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:(0,l.jsx)("div",{className:"flex flex-wrap items-center",children:(0,l.jsxs)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg "+("light"===r?"text-blueGray-700":"text-white"),children:"Trains"}),(0,l.jsx)(b.default,{href:"/admin/add_train",children:(0,l.jsx)("a",{children:(0,l.jsx)("button",{className:"bg-blueGray-700 active:bg-blueGray-600 text-white font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",children:"+ Add Trains"})})})]})})}),(0,l.jsx)("div",{className:"block w-full overflow-x-auto",children:(0,l.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===r?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-blueGray-600 text-blueGray-200 border-blueGray-500"),children:"Number"}),(0,l.jsx)("th",{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===r?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-blueGray-600 text-blueGray-200 border-blueGray-500"),children:"Name"}),(0,l.jsx)("th",{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===r?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-blueGray-600 text-blueGray-200 border-blueGray-500"),children:"Rake Number"}),(0,l.jsx)("th",{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===r?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-blueGray-600 text-blueGray-200 border-blueGray-500"),children:"Options"})]})}),(0,l.jsx)("tbody",{children:d.length>0?d.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center",children:(0,l.jsx)("span",{className:"ml-3 font-bold "+ +("light"===r?"text-blueGray-600":"text-white"),children:e.trainNumber})}),(0,l.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:e.trainName}),(0,l.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:e.rakeNumber}),(0,l.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(b.default,{href:"/admin/edit_train?id=".concat(e._id),children:(0,l.jsx)("a",{children:"Edit"})})})})]})})):null})]})})]})})}function x(){var e=(0,s.useRouter)(),r=(0,d.useSession)().data;return(0,a.useEffect)((function(){r||e.push("/")}),[]),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex flex-wrap mt-4",children:(0,l.jsx)("div",{className:"w-full mb-12 px-4",children:(0,l.jsx)(c,{})})})})}c.defaultProps={color:"light"},c.propTypes={color:o().oneOf(["light","dark"])},x.layout=i.Z}},function(e){e.O(0,[566,337,774,888,179],(function(){return r=3104,e(e.s=r);var r}));var r=e.O();_N_E=r}]);